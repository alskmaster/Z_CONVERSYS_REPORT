<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Relatório de Monitoramento</title>
    <style>
        @page {
            size: a4 portrait;
            margin: 2.5cm 1.5cm;
            @frame header_frame { -pdf-frame-content: header_content; left: 1.5cm; right: 1.5cm; top: 1cm; height: 1.5cm; }
            @frame footer_frame { -pdf-frame-content: footer_content; left: 1.5cm; right: 1.5cm; bottom: 1cm; height: 1cm; }
        }
        body { font-family: 'Helvetica', 'Arial', sans-serif; font-size: 10pt; color: #333; }
        h1 { font-size: 20pt; text-align: center; color: #0d47a1; }
        h2 { font-size: 16pt; border-bottom: 2px solid #0d47a1; color: #0d47a1; padding-bottom: 5px; margin-top: 25px; page-break-before: auto; }
        .report-module-instance:first-child h2 { page-break-before: auto; }
        h3 { font-size: 13pt; margin-top: 20px; }
        thead { display: table-header-group; }
        .table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 7pt; page-break-inside: auto; }
        .table th, .table td { border: 1px solid #e0e0e0; padding: 5px; text-align: left; }
        .table th { background-color: #1e88e5; color: #fff; font-weight: bold; }
        .chart-container { text-align: center; margin-top: 20px; page-break-inside: avoid; }
        .chart-container img { max-width: 100%; height: auto; }
        .summary-box { padding: 10px; margin-bottom: 20px; text-align: center; }
        .kpi-container { page-break-inside: avoid; }
        .kpi-box-single { width: 100%; background-color: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 5px; padding: 15px; margin-bottom: 15px; text-align: center; page-break-inside: avoid; }
        .kpi-value { font-size: 28pt; font-weight: bold; color: #0d47a1; }
        .kpi-label { font-size: 12pt; color: #333; margin-top: 5px; }
        .kpi-sublabel { font-size: 9pt; color: #555; margin-top: 5px; }
        .status-atingido { color: #2e7d32 !important; font-weight: bold; }
        .status-nao-atingido { color: #c62828 !important; font-weight: bold; }
        .sla-critico { background-color: #ffebee !important; color: #c62828; font-weight: bold; }
        .sla-atencao { background-color: #fffde7 !important; color: #f57f17; }
        #header_content, #footer_content { font-size: 9pt; color: #555; }
        #footer_content { text-align: right; }
    </style>
</head>
<body>
    <div id="header_content">Relatório de Monitoramento | {{ group_name }}</div>
    <div id="footer_content">Gerado em {{ data_emissao }} | Página <pdf:pagenumber> de <pdf:pagecount></div>
    
    <h1>Relatório de Monitoramento</h1>
    <div class="summary-box">
        <p><strong>Cliente:</strong> {{ group_name }}</p>
        <p><strong>Período:</strong> {{ periodo_referencia }}</p>
    </div>

    {{ report_content|safe }}

</body>
</html>