<!DOCTYPE html>
<html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Login - {{ g.sys_config.company_name }}</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
:root { --primary-color: {{ g.sys_config.primary_color | default('#2c3e50') }}; --secondary-color: {{ g.sys_config.secondary_color | default('#3498db') }}; }
body { font-family: 'Poppins', sans-serif; background-color: #f4f7f6; min-height: 100vh; }
.login-wrapper { display: flex; min-height: 100vh; }
.login-form-section { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem; background-color: #ffffff; }
.login-branding-section {
    flex: 1;
    display: none;
    justify-content: center;
    align-items: center;
    background-color: {{ g.sys_config.login_media_bg_color | default('#2c3e50') }};
    color: white;
    text-align: center;
    padding: 2rem;
    position: relative;
    overflow: hidden;
}
.branding-media {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: {{ g.sys_config.login_media_fill_mode | default('cover') }};
    z-index: 1;
}
.branding-content { position: relative; z-index: 2; background-color: rgba(0,0,0,0.2); padding: 1rem; border-radius: .5rem;}
.branding-content h1 { font-family: 'Playfair Display', serif; font-size: 3.5rem; font-weight: 700; line-height: 1.2; }
.branding-content span { font-family: 'Poppins', sans-serif; font-weight: 300; font-style: italic; }
.form-container { width: 100%; max-width: 400px; }
.form-container .logo { max-height: 80px; margin-bottom: 1.5rem; }
.form-container h2 { font-weight: 600; margin-bottom: 0.5rem; }
.form-container .form-control { border-radius: 0.5rem; padding: 0.9rem; border: 1px solid #e0e0e0; }
.form-container .form-control:focus { border-color: var(--secondary-color); box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25); }
.form-container .btn-primary { background-color: var(--secondary-color); border-color: var(--secondary-color); padding: 0.9rem; font-weight: 600; border-radius: 0.5rem; }
.footer-text { position: absolute; bottom: 1rem; font-size: 0.8rem; color: #999; }
@media (min-width: 992px) { .login-branding-section { display: flex; } }
</style></head>
<body><div class="login-wrapper">
<div class="login-form-section"><div class="form-container">
{% set logo_to_use = g.sys_config.logo_light_bg_path or g.sys_config.logo_dark_bg_path %}
{% if logo_to_use %}<img src="{{ url_for('uploaded_file', filename=logo_to_use) }}" alt="Logo" class="logo">{% endif %}
<h2>Bem-vindo de volta</h2><p class="text-muted mb-4">Faça login para continuar</p>
{% with messages = get_flashed_messages(with_categories=true) %}{% if messages %}{% for category, message in messages %}
<div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">{{ message }}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>
{% endfor %}{% endif %}{% endwith %}
<form method="POST"><div class="mb-3"><label for="username" class="form-label">Usuário</label><input type="text" class="form-control" id="username" name="username" required></div>
<div class="mb-4"><label for="password" class="form-label">Senha</label><input type="password" class="form-control" id="password" name="password" required></div>
<div class="d-grid"><button type="submit" class="btn btn-primary">Entrar</button></div></form></div>
<p class="footer-text">{{ g.sys_config.footer_text|safe }}</p></div>
<div class="login-branding-section">
    {% if g.sys_config.login_media_path %}
        <img src="{{ url_for('uploaded_file', filename=g.sys_config.login_media_path) }}" class="branding-media" alt="Branding Media">
    {% else %}
        <div class="branding-content"><h1>criamos<br>ambientes<br>de <span>trabalho</span><br>+ felizes</h1></div>
    {% endif %}
</div>
</div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script></body></html>